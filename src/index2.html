<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
		<meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com/ 'unsafe-inline' https://cdn.jsdelivr.net/ ; script-src 'self' 'unsafe-inline' https://code.jquery.com/ https://cdn.jsdelivr.net/ ; font-src 'self' https://fonts.gstatic.com/ data: ; img-src 'self' data:">
		<meta http-equiv="X-Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com/ 'unsafe-inline'; script-src 'self' 'unsafe-inline' https://code.jquery.com/; font-src 'self' https://fonts.gstatic.com/ data: ; img-src 'self' data:">
		<script src="./jquery/jquery-3.4.1.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			try {
				$ = jQuery = module.exports;
			} catch(e) {}
		</script>
		<link rel="stylesheet" type="text/css" href="./semantic/semantic.min.css">
		<script src="./semantic/semantic.min.js" type="text/javascript"></script>
		<script src="./index.js" type="text/javascript"></script>
		<link rel="stylesheet" href="./chartist/chartist.css">
		<script src="./chartist/chartist.js"></script>
		<style type="text/css">
			body {
			background-color: white;
			overflow: hidden;
			}
			.grid {
			margin-top: 10px;
			margin-right: 10px;
			margin-left: 10px;
			margin-bottom: 10px;
			}
		</style>
		<title>Cycler</title>
	</head>
	<body id="root">
		<div id="loadingDimmer" class="ui dimmer">
			<div id="loadingText" class="ui indeterminate text loader">Checking files.</div>
		</div>
		<div class="ui main container" style="width:90%; height:90%">
			<div class="ui grid">
				<div class="row"><img class="ui medium left floated image"></div>
				<div class="four column row">
					<div class="four wide column">
						<div id="beginTab" class="ui tab active segment" data-tab="begin">
							<div class="ui two column stackable center aligned grid">
								<div class="ui vertical divider">Or</div>
								<div class="middle aligned row">
									<div class="column">
										<div class="ui icon header">
											<i class="copy outline icon"></i>
											<p>Please choose your cell cycle files to begin.</p>
										</div>
										<p></p>
										<div class="ui primary button" id="loadFilesButton" onclick="load_files()">
											<i class="folder outline icon"></i>Load Files
										</div>
									</div>
									<div class="column">
										<div class="ui icon header">
											<i class="film icon"></i>
											<p>Watch the tutorial online.</p>
										</div>
										<p></p>
										<div class="ui primary button" id="watchTutorialButton">
											<i class="play circle outline icon"></i>Watch
										</div>
									</div>
								</div>
							</div>
						</div>
						<div id ="analysisTab" class="ui tab segment" data-tab="analysis">
							<div class="ui equal width grid">
								<div class="equal height row">
									<div  class="ten wide column">
										<div id="chartContainer" class="ui basic segment">
											<canvas id="analysisChart" width="400" height="300"></canvas>
										</div>
									</div>
									<div class="stretched column">
										<div class="ui basic segment">
											<div id="paramDimmer" class="ui dimmer">
												<div class="content">
													<h4 id="paramText" class="ui inverted icon header">
														<i class="arrow left icon"></i>
														Click chart to select value.
													</h4>
												</div>
											</div>
											<h4>Analysis Settings</h4>
											<div class="ui selection dropdown">
												<i class="dropdown icon"></i>
												<div class="default text">Property</div>
												<div id="paramDropdownMenu" class="menu">
													<div class="item" data-value="1">Test</div>
												</div>
											</div>
											<div id="selectedParamSegment" class="ui disabled segment">
												<h5>Selected Parameters</h5>
												<div class="ui divided list">
													<a class="item">
														<i class="right triangle icon"></i>
														<div class="content">
															<div class="header">G1/G0 Estimate</div>
															<div id="g1_text" class="description">blah</div>
														</div>
													</a>
													<a class="item">
														<i class="right triangle icon"></i>
														<div class="content">
															<div class="header">G2/M Estimate</div>
															<div id="g2_text" class="description">blah</div>
														</div>
													</a>
													<a class="item">
														<i class="right triangle icon"></i>
														<div class="content">
															<div class="header">Low Cutoff</div>
															<div id="low_text" class="description">blah</div>
														</div>
													</a>
													<a class="item">
														<i class="right triangle icon"></i>
														<div class="content">
															<div class="header">High Cutoff</div>
															<div id="high_text" class="description">blah</div>
														</div>
													</a>
												</div>
												<p>Click any parameter to reselect.</p>
											</div>
										</div>
										<button id="analyzeButton" class="ui primary button">Analyze</button>
									</div>
								</div>
							</div>
						</div>
						<div id="resultsTab" class="ui tab segment" data-tab="results">
							<div class="ui equal width grid">
								<div class="equal height row">
									<div  class="ten wide column">
										<div id="resultsContainer" class="ui basic segment">
											<canvas id="resultsChart" width="400" height="300"></canvas>
										</div>
									</div>
									<div class="stretched column">
										<div class="ui basic segment">
											<h4>Results Settings</h4>
											<table class="ui celled table">
												<thead>
													<tr><th>Name</th>
														<th>Age</th>
														<th>Job</th>
													</tr></thead>
													<tbody>
														<tr>
															<td data-label="Name">James</td>
															<td data-label="Age">24</td>
															<td data-label="Job">Engineer</td>
														</tr>
														<tr>
															<td data-label="Name">Jill</td>
															<td data-label="Age">26</td>
															<td data-label="Job">Engineer</td>
														</tr>
														<tr>
															<td data-label="Name">Elyse</td>
															<td data-label="Age">24</td>
															<td data-label="Job">Designer</td>
														</tr>
													</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="ui tab attached segment" data-tab="preferences">
							<p>Preferences.</p>
						</div>
					</div>
				</div>
				<div class="one column centered row">
					<div class="column">
						<div class="ui mini steps">
							<div class="active step">
								<i class="file icon"></i>
								<div class="content">
									<div class="title">File Selection</div>
									<div class="description">Select files for analysis</div>
								</div>
							</div>
							<div class="step disabled">
								<div class="content">
									<div class="title">Run Analysis</div>
									<div class="description">Set parameters for analysis</div>
								</div>
							</div>
							<div class="step disabled">
								<div class="content">
									<div class="title">View Results</div>
									<div class="description">View results of analysis</div>
								</div>
								</div>
							</div>
						</div>
					</div>
					<div class="six column row">
						<div class="left floated column">
							<button id="backButton" class="ui disabled primary button">Back</button>
						</div>
						
						
						<div class="right floated column">
							<button id="continueButton" class="ui disabled primary button">Continue</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$('.menu .item').tab();
		$('#continueButton').click(function(){advanceTab();});
		$('#backButton').click(function(){backTab();});
		$('#analyzeButton').click(function(){console.log("test"); run_analysis();});
		$('.ui.dropdown').dropdown({onChange: function(val){ changeFileProperty(val);}});
		draw_graph()
	</script>
</body>
</html>
